<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="该网页提供2013-2016年蓝桥杯历届数据结构题目及实现方法.">
<meta property="og:type" content="website">
<meta property="og:title" content="数据结构(C语言实现)">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="数据结构(C语言实现)">
<meta property="og:description" content="该网页提供2013-2016年蓝桥杯历届数据结构题目及实现方法.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据结构(C语言实现)">
<meta name="twitter:description" content="该网页提供2013-2016年蓝桥杯历届数据结构题目及实现方法.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title> 数据结构(C语言实现) </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">数据结构(C语言实现)</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/15/monkAfraid/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AdrianYeung">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数据结构(C语言实现)">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/15/monkAfraid/" itemprop="url">
                  高僧斗法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-15T16:40:41+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/博弈论/" itemprop="url" rel="index">
                    <span itemprop="name">博弈论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>问题描述:NIM取子游戏。将两个两个看成一组，他们之间的间隔可以看成一个NIM取子游戏。</p>
</blockquote>
<p>　　古时丧葬活动中经常请高僧做法事。仪式结束后，有时会有“高僧斗法”的趣味节目，以舒缓压抑的气氛。<br>　　节目大略步骤为：先用粮食（一般是稻米）在地上“画”出若干级台阶（表示N级浮屠）。又有若干小和尚随机地“站”在某个台阶上。最高一级台阶必须站人，其它任意。(如图1所示)<br>　　两位参加游戏的法师分别指挥某个小和尚向上走任意多级的台阶，但会被站在高级台阶上的小和尚阻挡，不能越过。两个小和尚也不能站在同一台阶，也不能向低级台阶移动。<br>　　两法师轮流发出指令，最后所有小和尚必然会都挤在高段台阶，再也不能向上移动。轮到哪个法师指挥时无法继续移动，则游戏结束，该法师认输。<br>　　对于已知的台阶数和小和尚的分布位置，请你计算先发指令的法师该如何决策才能保证胜出。<br><strong>输入格式</strong><br>输入数据为一行用空格分开的N个整数，表示小和尚的位置。台阶序号从1算起，所以最后一个小和尚的位置即是台阶的总数。（N&lt;100, 台阶总数&lt;1000）</p>
<p><strong>输出格式</strong><br>输出为一行用空格分开的两个整数: A B, 表示把A位置的小和尚移动到B位置。若有多个解，输出A值较小的解，若无解则输出-1。</p>
<p><strong>样例输入</strong><br>1&emsp;5&emsp;9</p>
<p><strong>样例输出</strong><br>1&emsp;4</p>
<p><strong>样例输入</strong><br>1&emsp;5&emsp;8&emsp;10</p>
<p><strong>样例输出</strong><br>1&emsp;3</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include &lt;stdio.h&gt;   //参考蓝桥杯贴吧 dezhonger</span></div><div class="line">int <span class="function"><span class="title">main</span></span>()</div><div class="line">&#123;</div><div class="line">	int a[105],b[105],i=0,j,k,count,sum;</div><div class="line">	char c;</div><div class="line">	<span class="keyword">while</span>(1)</div><div class="line">	&#123;</div><div class="line">		scanf(<span class="string">"%d%c"</span>,&amp;a[i++],&amp;c);</div><div class="line">		<span class="keyword">if</span>(c==<span class="string">'\n'</span>)</div><div class="line">			<span class="built_in">break</span>;</div><div class="line">	&#125;</div><div class="line">	count=i;</div><div class="line">	<span class="keyword">for</span>(i = 0;i &lt; count-1;i++)</div><div class="line">		b[i]=a[i+1]<span class="_">-a</span>[i]-1;</div><div class="line">	b[count-1]=0;</div><div class="line">	sum=b[0];</div><div class="line">	<span class="keyword">for</span>(i = 2;i &lt; count;i = i+2)</div><div class="line">		sum^=b[i];</div><div class="line">	<span class="keyword">if</span>(sum == 0)</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		<span class="keyword">for</span>(i = 0;i &lt; count;i++)</div><div class="line">			<span class="keyword">for</span>(j = 1;j &lt;= b[i];j++)</div><div class="line">			&#123;</div><div class="line">				b[i] -= j;</div><div class="line">				<span class="keyword">if</span>(i!=0)</div><div class="line">					b[i-1]+=j;</div><div class="line">				sum = b[0];</div><div class="line">				<span class="keyword">for</span>(k = 2;k &lt; count;k = k+2)</div><div class="line">					sum ^= b[k];</div><div class="line">				<span class="keyword">if</span>(sum == 0)</div><div class="line">				&#123;</div><div class="line">					<span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>,a[i],a[i]+j);</div><div class="line">					<span class="built_in">break</span>;</div><div class="line">				&#125;</div><div class="line">				b[i] += j;</div><div class="line">				<span class="keyword">if</span>(i != 0)</div><div class="line">					b[i-1] -= j;</div><div class="line">			&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">return</span> 0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">/*</div><div class="line">1 3 5 7 12 14 17 26 38 45 66 100</div><div class="line">66 84</div><div class="line">*/</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/15/checkPaint/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AdrianYeung">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数据结构(C语言实现)">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/15/checkPaint/" itemprop="url">
                  格子刷油漆
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-15T16:40:41+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/动态规划/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>问题描述:使用状态压缩的动态规划，用F[i,J]表示前i行，最后两行被刷的状态为J且向上都能刷完的方案数，可推导转移方程。</p>
</blockquote>
<p><img src="/2017/04/15/checkPaint/1.jpg" alt=""></p>
<ul>
<li>　　你可以从任意一个格子刷起，刷完一格，可以移动到和它相邻的格子（对角相邻也算数），但不能移动到较远的格子（因为油漆未干不能踩！）<br>比如：a d b c e f 就是合格的刷漆顺序。<br>c e f d a b 是另一种合适的方案。<br>当已知 N 时，求总的方案数。当N较大时，结果会迅速增大，请把结果对 1000000007 (十亿零七) 取模。<br><strong>输入格式</strong><br>输入数据为一个正整数（不大于1000）</li>
</ul>
<p><strong>输出格式</strong><br>输出数据为一个正整数</p>
<p><strong>样例输入</strong><br>2</p>
<p><strong>样例输出</strong><br>24</p>
<p><strong>样例输入</strong><br>3</p>
<p><strong>样例输出</strong><br>96</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include &lt;stdio.h&gt;</span></div><div class="line">long long a[1001],b[1001],sum;  </div><div class="line"><span class="comment">#define NUM 1000000007 </span></div><div class="line">int <span class="function"><span class="title">main</span></span>()  </div><div class="line">&#123;  </div><div class="line">    int i,n;  </div><div class="line">    scanf(<span class="string">"%d"</span>,&amp;n);  </div><div class="line">    b[1]=1;  </div><div class="line">    <span class="keyword">for</span> (i=2;i&lt;=n;i++)  </div><div class="line">        b[i]=(b[i-1]*2%NUM);  </div><div class="line">    a[1]=1;a[2]=6;  </div><div class="line">    <span class="keyword">for</span> (i=3;i&lt;=n;i++)  </div><div class="line">        a[i]=(2*a[i-1]+b[i]+4*a[i-2])%NUM;  </div><div class="line">    sum=4*a[n];  </div><div class="line">    <span class="keyword">for</span> (i=2;i&lt;n;i++)  </div><div class="line">        sum=((sum+8*b[n-i]*a[i-1]%NUM)%NUM+(8*a[n-i]*b[i-1])%NUM)%NUM;  </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%I64d\n"</span>,sum);  </div><div class="line">    <span class="built_in">return</span> 0;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/15/bingPaoShu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AdrianYeung">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数据结构(C语言实现)">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/15/bingPaoShu/" itemprop="url">
                  冰雹数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-15T16:40:41+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>问题描述<br>任意给定一个正整数N，<br>如果是偶数，执行： N / 2<br>如果是奇数，执行： N * 3 + 1</p>
<p>生成的新的数字再执行同样的动作，循环往复。<br>通过观察发现，这个数字会一会儿上升到很高，<br>一会儿又降落下来。<br>就这样起起落落的，但最终必会落到“1”<br>这有点像小冰雹粒子在冰雹云中翻滚增长的样子。</p>
<p>比如N=9<br>9,28,14,7,22,11,34,17,52,26,13,40,20,10,5,16,8,4,2,1<br>可以看到，N=9的时候，这个“小冰雹”最高冲到了52这个高度。</p>
<p><strong>输入格式</strong><br>一个正整数N（N&lt;1000000）</p>
<p><strong>输出格式</strong><br>一个正整数，表示不大于N的数字，经过冰雹数变换过程中，最高冲到了多少。</p>
<p>例如,<br><strong>样例输入</strong><br>10</p>
<p><strong>样例输出</strong><br>52</p>
<p>再例如,<br><strong>样例输入</strong><br>100</p>
<p><strong>样例输出</strong><br>9232</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include &lt;stdio.h&gt;  </span></div><div class="line"><span class="function"><span class="title">main</span></span>()  </div><div class="line">&#123;  </div><div class="line">    int n,j,a,i=1,b[100000],c,s;  </div><div class="line">    scanf(<span class="string">"%d"</span>,&amp;n);  </div><div class="line">    b[0]=n;  </div><div class="line">    <span class="keyword">for</span> (j=n;j&gt;1;j--,n=j)//穷举n以内的每个数  </div><div class="line">    &#123;  </div><div class="line">    <span class="keyword">while</span> (n!=1)  </div><div class="line">    &#123;  </div><div class="line">       <span class="keyword">if</span> (n%2==0)  </div><div class="line">           n=n/2;  </div><div class="line">       <span class="keyword">else</span>  </div><div class="line">          n=3*n+1;  </div><div class="line">       b[i++]=n;  //存入b数组  </div><div class="line">    &#125;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">  </div><div class="line">    c=b[0];  </div><div class="line">    <span class="keyword">for</span> (a=1;a&lt;i;a++)  </div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (c&lt;b[a])  </div><div class="line">            c=b[a];  </div><div class="line">    &#125;  </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"\n%d"</span>,c);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/15/cityConstruction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AdrianYeung">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数据结构(C语言实现)">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/15/cityConstruction/" itemprop="url">
                  城市建设
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-15T16:40:41+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>栋栋居住在一个繁华的C市中，然而，这个城市的道路大都年久失修。市长准备重新修一些路以方便市民，于是找到了栋栋，希望栋栋能帮助他。<br>C市中有n个比较重要的地点，市长希望这些地点重点被考虑。现在可以修一些道路来连接其中的一些地点，每条道路可以连接其中的两个地点。<br>另外由于C市有一条河从中穿过，也可以在其中的一些地点建设码头，所有建了码头的地点可以通过河道连接。<br>栋栋拿到了允许建设的道路的信息，包括每条可以建设的道路的花费，以及哪些地点可以建设码头和建设码头的花费。<br>市长希望栋栋给出一个方案，使得任意两个地点能只通过新修的路或者河道互达，同时花费尽量小。</p>
<p><strong>输入格式</strong><br>输入的第一行包含两个整数n, m，分别表示C市中重要地点的个数和可以建设的道路条数。所有地点从1到n依次编号。<br>接下来m行，每行三个整数a, b, c，表示可以建设一条从地点a到地点b的道路，花费为c。若c为正，表示建设是花钱的，如果c为负，则表示建设了道路后还可以赚钱（比如建设收费道路）。<br>接下来一行，包含n个整数w_1, w_2, …, w_n。如果w_i为正数，则表示在地点i建设码头的花费，如果w_i为-1，则表示地点i无法建设码头。<br>输入保证至少存在一个方法使得任意两个地点能只通过新修的路或者河道互达。</p>
<p><strong>输出格式</strong><br>输出一行，包含一个整数，表示使得所有地点通过新修道路或者码头连接的最小花费。<br>如果满足条件的情况下还能赚钱，那么你应该输出一个负数。</p>
<p><strong>样例输入</strong><br>5&emsp;5<br>1&emsp;2&emsp;4<br>1&emsp;3&emsp;-1<br>2&emsp;3&emsp;3<br>2&emsp;4&emsp;5<br>4&emsp;5&emsp;10<br>-1&emsp;10&emsp;10&emsp;1&emsp;1</p>
<p><strong>样例输出</strong><br>9</p>
<p><strong>样例说明</strong><br>建设第2、3、4条道路，在地点4、5建设码头，总的花费为9。</p>
<p><strong>数据规模和约定</strong><br>对于20%的数据，1&lt;=n&lt;=10，1&lt;=m&lt;=20，0&lt;=c&lt;=20，w_i&lt;=20；<br>对于50%的数据，1&lt;=n&lt;=100，1&lt;=m&lt;=1000，-50&lt;=c&lt;=50，w_i&lt;=50；<br>对于70%的数据，1&lt;=n&lt;=1000；<br>对于100%的数据，1 &lt;= n &lt;= 10000，1 &lt;= m &lt;= 100000，-1000&lt;=c&lt;=1000，-1&lt;=w_i&lt;=1000，w_i≠0。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;stdio.h&gt;</span></div><div class="line"><span class="comment">#include&lt;string.h&gt;</span></div><div class="line"><span class="comment">#include&lt;stdlib.h&gt;</span></div><div class="line"><span class="comment">#define INF 0xfffffff</span></div><div class="line">int n,m,k;</div><div class="line">int pre[10005];</div><div class="line">struct s &#123; int u,v,w; &#125;edge[1000005];</div><div class="line">int cmp(const void *a,const void *b) &#123; <span class="built_in">return</span> (*(struct s *)a).w-(*(struct s *)b).w; &#125;</div><div class="line">int find(int x) &#123;</div><div class="line"><span class="keyword">if</span>(x==pre[x]) <span class="built_in">return</span> x;</div><div class="line"><span class="built_in">return</span> pre[x]=find(pre[x]);</div><div class="line">&#125;</div><div class="line">void init(int n) &#123;</div><div class="line">int i;</div><div class="line"><span class="keyword">for</span>(i=0;i&lt;=n;i++) &#123;</div><div class="line">pre[i]=i;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line">int ku(int k) &#123;</div><div class="line">int sum=0,i;</div><div class="line"><span class="keyword">for</span>(i=0;i&lt;k;i++) &#123;</div><div class="line">int u=edge[i].u;</div><div class="line"> int v=edge[i].v;</div><div class="line">int w=edge[i].w;</div><div class="line">int fa=find(u);</div><div class="line">int fb=find(v);</div><div class="line"><span class="keyword">if</span>(fa!=fb||w&lt;0) &#123;</div><div class="line">sum+=w;</div><div class="line">pre[fa]=fb;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="built_in">return</span> sum;</div><div class="line">&#125;</div><div class="line">int <span class="function"><span class="title">main</span></span>() &#123;</div><div class="line">//<span class="keyword">while</span>(scanf(<span class="string">"%d%d"</span>,&amp;n,&amp;m)!=EOF) &#123;</div><div class="line"></div><div class="line">int i,j;</div><div class="line">scanf(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</div><div class="line">init(n);</div><div class="line"><span class="keyword">for</span>(i=0;i&lt;m;i++) &#123;</div><div class="line">int u,v,w;</div><div class="line">scanf(<span class="string">"%d%d%d"</span>,&amp;u,&amp;v,&amp;w);</div><div class="line">edge[i].u=u;</div><div class="line">edge[i].v=v;</div><div class="line">edge[i].w=w;</div><div class="line">&#125;</div><div class="line">k=m;</div><div class="line"><span class="keyword">for</span>(i=1;i&lt;=n;i++) &#123;</div><div class="line">int cost;</div><div class="line">scanf(<span class="string">"%d"</span>,&amp;cost);</div><div class="line"><span class="keyword">if</span>(cost!=-1) &#123;</div><div class="line">edge[k].u=0;</div><div class="line">edge[k].v=i;</div><div class="line">edge[k++].w=cost;</div><div class="line">&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span>(i=0;i&lt;m;i++) &#123;</div><div class="line">int fa=find(edge[i].u); </div><div class="line">int fb=find(edge[i].v); </div><div class="line"><span class="keyword">if</span>(fa!=fb) pre[fa]=fb; </div><div class="line">&#125; <span class="keyword">for</span>(i=2;i&lt;=n;i++) &#123;</div><div class="line"><span class="keyword">if</span>(find(1)!=find(i)) &#123; <span class="built_in">break</span>; &#125; &#125;</div><div class="line">int temp;</div><div class="line"><span class="keyword">if</span>(i==n+1) &#123;</div><div class="line">init(n);</div><div class="line">qsort(edge,m,sizeof(edge[0]),cmp);</div><div class="line">temp=ku(m);</div><div class="line">init(n);</div><div class="line">qsort(edge,k,sizeof(edge[0]),cmp);</div><div class="line">int ans=ku(k);</div><div class="line"><span class="keyword">if</span>(ans&gt;temp) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,temp);</div><div class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</div><div class="line">//<span class="built_in">continue</span>;</div><div class="line"><span class="built_in">return</span> 0;</div><div class="line">&#125;</div><div class="line">init(n);</div><div class="line">qsort(edge,k,sizeof(edge[0]),cmp);</div><div class="line">int ans=ku(k);</div><div class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,ans);</div><div class="line">//&#125;</div><div class="line"><span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/04/15/evenTheNumberIntervalNumber/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="AdrianYeung">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="数据结构(C语言实现)">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/04/15/evenTheNumberIntervalNumber/" itemprop="url">
                  连号区间数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-15T16:40:41+08:00">
                2017-04-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/并查集/" itemprop="url" rel="index">
                    <span itemprop="name">并查集</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>问题描述:从左到右扫描数组，将所有扫描到的数放到并查集中，将相邻的数在集合中合并。对于每个合并的集合记录下递增可连的次数和递减可连的次数以及数字出现的最早和最晚时刻。当新扫描的数过来时根据以上几个值来合并区间并维护。</p>
</blockquote>
<p>小明这些天一直在思考这样一个奇怪而有趣的问题：<br>在1~N的某个全排列中有多少个连号区间呢？这里所说的连号区间的定义是：<br>如果区间[L, R] 里的所有元素（即此排列的第L个到第R个元素）递增排序后能得到一个长度为R-L+1的“连续”数列，则称这个区间连号区间。<br>当N很小的时候，小明可以很快地算出答案，但是当N变大的时候，问题就不是那么简单了，现在小明需要你的帮助。</p>
<p><strong>输入格式</strong><br>第一行是一个正整数N (1 &lt;= N &lt;= 50000), 表示全排列的规模。<br>第二行是N个不同的数字Pi(1 &lt;= Pi &lt;= N)， 表示这N个数字的某一全排列。</p>
<p><strong>输出格式</strong><br>输出一个整数，表示不同连号区间的数目。</p>
<p><strong>样例输入</strong><br>4<br>3&emsp;2&emsp;4&emsp;1</p>
<p><strong>样例输出</strong><br>7</p>
<p><strong>样例输入</strong><br>5<br>3&emsp;4&emsp;2&emsp;5&emsp;1</p>
<p><strong>样例输出</strong><br>9</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#include&lt;stdio.h&gt;</span></div><div class="line">int <span class="function"><span class="title">main</span></span>()</div><div class="line">&#123;</div><div class="line">    int s[50005],a,i,min,max,count=0,j;</div><div class="line">    scanf(<span class="string">"%d"</span>,&amp;a);</div><div class="line">    <span class="keyword">for</span>( i = 0; i &lt; a; i++) &#123;</div><div class="line">        scanf(<span class="string">"%d"</span>,&amp;s[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span>( i = 0; i &lt;a;i++ )&#123; </div><div class="line">		min=s[i];</div><div class="line">		max=s[i];</div><div class="line">        <span class="keyword">for</span>( j = i; j &lt;a; j++) &#123;</div><div class="line">			<span class="keyword">if</span>(min&gt;s[j])&#123;min =s[j];&#125;</div><div class="line">			<span class="keyword">if</span>(max&lt;s[j])&#123;max =s[j];&#125;</div><div class="line">			<span class="keyword">if</span>((max-min)==(j-i))&#123;</div><div class="line">				count++;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d"</span>,count);</div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="AdrianYeung" />
          <p class="site-author-name" itemprop="name">AdrianYeung</p>
           
              <p class="site-description motion-element" itemprop="description">该网页提供2013-2016年蓝桥杯历届数据结构题目及实现方法.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">14</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">AdrianYeung</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  








  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  





  

  

  

  

  

</body>
</html>
